# –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –î—É—Ö–æ–≤–Ω—ã—Ö –ú–∞—Å—Ç–µ—Ä–æ–≤

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ–±-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤ –æ–±–ª–∞—Å—Ç–∏ –¥—É—Ö–æ–≤–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫, –ø–∞—Ä–∞–ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏, –∞—Å—Ç—Ä–æ–ª–æ–≥–∏–∏ –∏ –¥—Ä—É–≥–∏—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ React + TypeScript (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥) –∏ Node.js + Express + PostgreSQL (–±—ç–∫–µ–Ω–¥).

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üë§ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** —Å –≤—ã–±–æ—Ä–æ–º —Ä–æ–ª–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/—ç–∫—Å–ø–µ—Ä—Ç)
- üîç **–ü–æ–∏—Å–∫ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤** –ø–æ 30+ —Ç–µ–º–∞—Ç–∏–∫–∞–º (–¢–∞—Ä–æ, –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è, –†–µ–π–∫–∏, –∏ –¥—Ä.)
- üìç **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥–æ—Ä–æ–¥–∞–º –†–§** –∏ —Ç–∏–ø—É —É—Å–ª—É–≥ (–æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω)
- üë®‚Äçüéì **–ü—Ä–æ—Ñ–∏–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤** —Å —É—Å–ª—É–≥–∞–º–∏, –æ—Ç–∑—ã–≤–∞–º–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–º
- üìù **–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç–µ–π** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- üí¨ **–ß–∞—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** –Ω–∞ Socket.IO
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –¢–µ–º–∞—Ç–∏–∫–∏:
–†–µ–≥—Ä–µ—Å—Å, –ü–∞—Ä–∞–ø—Å–∏—Ö–æ–ª–æ–≥–∏—è, –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∏, –•—å—é–º–∞–Ω –¥–∏–∑–∞–π–Ω, –ú–ê–ö –∫–∞—Ä—Ç—ã, –¢–∞—Ä–æ, –†—É–Ω—ã, –ö–∞—Ä—Ç—ã –õ–µ–Ω–æ—Ä–º–∞–Ω, –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è, –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è, –¢–µ—Ç–∞—Ö–∏–ª–∏–Ω–≥, –ö–æ—Å–º–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞, –†–µ–π–∫–∏, –®–∞–º–∞–Ω–∏–∑–º, –°–ª–∞–≤—è–Ω—Å–∫–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, –ó–≤—É–∫–æ—Ç–µ—Ä–∞–ø–∏—è, –¶–µ–ª–∏—Ç–µ–ª—å—Å—Ç–≤–æ, –ñ–µ–Ω—Å–∫–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, –ô–æ–≥–∞, –ì–≤–æ–∑–¥–µ—Å—Ç–æ—è–Ω–∏–µ, –¢–∞–Ω—Ç—Ä–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏, –ù—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∏—è, –ê—Ä–æ–º–∞—Ç–µ—Ä–∞–ø–∏—è, –ö–≤–∞–Ω—Ç–æ–≤–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è, –ú–µ–¥–∏—Ç–∞—Ü–∏—è, –ù–µ–π—Ä–æ–≥—Ä–∞—Ñ–∏–∫–∞, –ú–∞–Ω–¥–∞–ª—ã, –õ–∏—Ç–æ—Ç–µ—Ä–∞–ø–∏—è, –ö–∏–Ω–µ–∑–∏–æ–ª–æ–≥–∏—è.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –§—Ä–æ–Ω—Ç–µ–Ω–¥:
- ‚öõÔ∏è React 18 + TypeScript
- üèóÔ∏è Vite (—Å–±–æ—Ä—â–∏–∫)
- üé® Ant Design (UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
- üåê React Router (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)
- üîó Axios (HTTP –∫–ª–∏–µ–Ω—Ç)
- üí¨ Socket.IO Client (—á–∞—Ç—ã)

### –ë—ç–∫–µ–Ω–¥:
- üü¢ Node.js + Express + TypeScript
- üóÑÔ∏è PostgreSQL (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- üîê JWT (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- üîí bcryptjs (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π)
- üí¨ Socket.IO (WebSocket)
- üõ°Ô∏è Helmet, CORS (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
RuPlatform/
‚îú‚îÄ‚îÄ client/                 # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/     # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/         # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contexts/      # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/      # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/         # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/         # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ server/                # Node.js —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/   # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/        # –ú–∞—Ä—à—Ä—É—Ç—ã API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/    # Middleware
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/      # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models/        # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ package.json          # –ö–æ—Ä–Ω–µ–≤–æ–π package.json
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Node.js (–≤–µ—Ä—Å–∏—è 16+)
- PostgreSQL
- npm –∏–ª–∏ yarn

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
```bash
git clone <repository-url>
cd RuPlatform
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
npm run install:all

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
npm install
cd client && npm install
cd ../server && npm install
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å—Ö–µ–º—É –∏–∑ —Ñ–∞–π–ª–∞ `server/src/database/schema.sql`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `server/.env`:

```env
DATABASE_URL=postgresql://username:password@host:port/database
JWT_SECRET=your_jwt_secret_key
PORT=3001
NODE_ENV=development
```

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

#### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ):
```bash
npm run dev
```

#### –ò–ª–∏ –∑–∞–ø—É—Å–∫ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
```bash
# –°–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3001)
npm run server:dev

# –ö–ª–∏–µ–Ω—Ç (–ø–æ—Ä—Ç 5173)
npm run client:dev
```

### 5. –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
# –°–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞
npm run client:build

# –°–±–æ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
npm run server:build
```

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
- `POST /api/auth/login` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `GET /api/auth/verify` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
- `GET /api/users/profile` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `PUT /api/users/profile` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `GET /api/users/cities` - –°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤
- `GET /api/users/topics` - –°–ø–∏—Å–æ–∫ —Ç–µ–º–∞—Ç–∏–∫

### –≠–∫—Å–ø–µ—Ä—Ç—ã:
- `GET /api/experts/search` - –ü–æ–∏—Å–∫ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- `GET /api/experts/:id` - –ü—Ä–æ—Ñ–∏–ª—å —ç–∫—Å–ø–µ—Ä—Ç–∞
- `GET /api/experts/profile/me` - –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å —ç–∫—Å–ø–µ—Ä—Ç–∞
- `PUT /api/experts/profile` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —ç–∫—Å–ø–µ—Ä—Ç–∞
- `POST /api/experts/services` - –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ª—É–≥–∏
- `GET /api/experts/services/my` - –ú–æ–∏ —É—Å–ª—É–≥–∏

### –°—Ç–∞—Ç—å–∏:
- `GET /api/articles` - –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π
- `GET /api/articles/:id` - –°—Ç–∞—Ç—å—è –ø–æ ID
- `POST /api/articles` - –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
- `PUT /api/articles/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
- `DELETE /api/articles/:id` - –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏

### –ß–∞—Ç—ã:
- `GET /api/chats` - –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
- `POST /api/chats/start` - –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞
- `GET /api/chats/:id/messages` - –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞
- `POST /api/chats/:id/messages` - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PostgreSQL —Å —Å–ª–µ–¥—É—é—â–∏–º–∏ –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏:
- `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `expert_profiles` - –ü—Ä–æ—Ñ–∏–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- `topics` - –¢–µ–º–∞—Ç–∏–∫–∏
- `cities` - –ì–æ—Ä–æ–¥–∞ –†–§
- `services` - –£—Å–ª—É–≥–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- `articles` - –°—Ç–∞—Ç—å–∏
- `chats` - –ß–∞—Ç—ã
- `messages` - –°–æ–æ–±—â–µ–Ω–∏—è
- `reviews` - –û—Ç–∑—ã–≤—ã

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Timeweb Cloud:
1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä –Ω–∞ Timeweb Cloud
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js –∏ PostgreSQL
3. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ PM2:

```bash
npm install -g pm2
pm2 start server/dist/index.js --name "spiritual-platform"
```

### Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
```nginx
server {
    listen 80;
    server_name your-domain.com;

    # Frontend
    location / {
        root /path/to/client/dist;
        try_files $uri $uri/ /index.html;
    }

    # API
    location /api {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # Socket.IO
    location /socket.io {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

## –î–∏–∑–∞–π–Ω

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω –≤ —Å—Ç–∏–ª–µ Apple —Å:
- üé® –°–≤–µ—Ç–ª–æ–π —Ç–µ–º–æ–π Ant Design
- üìê –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏ –∏ –º—è–≥–∫–∏–º–∏ —Ç–µ–Ω—è–º–∏
- üîµ –û—Å–Ω–æ–≤–Ω—ã–º —Ü–≤–µ—Ç–æ–º #6366f1 (Indigo)
- üì± –ü–æ–ª–Ω–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å—é –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚ö° –ü–ª–∞–≤–Ω—ã–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏

## –õ–∏—Ü–µ–Ω–∑–∏—è

–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –î—É—Ö–æ–≤–Ω—ã—Ö –ú–∞—Å—Ç–µ—Ä–æ–≤ ¬© 2024.
