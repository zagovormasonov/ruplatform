# üîß –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú–´ –° –ö–ù–û–ü–ö–û–ô "–°–í–Ø–ó–ê–¢–¨–°–Ø"

## üéØ **–ü–†–û–ë–õ–ï–ú–ê:**
**–ö–Ω–æ–ø–∫–∞ "—Å–≤—è–∑–∞—Ç—å—Å—è" —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ —É –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - —É –∫–æ–≥–æ-—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —á–∞—Ç, —É –∫–æ–≥–æ-—Ç–æ –Ω–µ—Ç.**

## üîç **–ü–†–ò–ß–ò–ù–´ –ò –†–ï–®–ï–ù–ò–Ø:**

### **1. –ü—Ä–æ–±–ª–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
**–°–∏–º–ø—Ç–æ–º—ã:**
- –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—à–∏–±–∫–∞ 401
- –õ–æ–≥–∏: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω" –∏–ª–∏ "–¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# F12 ‚Üí Application ‚Üí Local Storage
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª—é—á "token" —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º JWT —Ç–æ–∫–µ–Ω–∞
```

### **2. –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ –ë–î**
**–°–∏–º–ø—Ç–æ–º—ã:**
- –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –æ—à–∏–±–∫–∞ 404
- –õ–æ–≥–∏: "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —ç–∫—Å–ø–µ—Ä—Ç—ã –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ users
SELECT id, first_name, last_name, role FROM users WHERE role = 'expert';
```

### **3. –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞**
**–°–∏–º–ø—Ç–æ–º—ã:**
- –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—à–∏–±–∫–∞ 403
- –õ–æ–≥–∏: "–ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JWT_SECRET –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
echo $JWT_SECRET
```

## üõ† **–®–ê–ì–ò –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò:**

### **–®–∞–≥ 1: –í–∫–ª—é—á–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ http://31.130.155.103/experts
# F12 ‚Üí Console
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å "—Å–≤—è–∑–∞—Ç—å—Å—è" —Å —Ä–∞–∑–Ω—ã–º–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
```

### **–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ª–æ–≥–∏**
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
pm2 logs ruplatform --lines 50

# –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:
# "Spiritual Platform Server: –ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞"
# "Spiritual Platform Auth: –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"
```

### **–®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ API –Ω–∞–ø—Ä—è–º—É—é**
```bash
# 1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ Local Storage
# 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:
curl -X POST http://31.130.155.103/api/chats/start \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"otherUserId": 2}'
```

### **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ë–î**
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
SELECT id, first_name, last_name, email, role FROM users WHERE role = 'expert' LIMIT 10;
```

## üéØ **–í–û–ó–ú–û–ñ–ù–´–ï –°–¶–ï–ù–ê–†–ò–ò:**

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–æ–∫–µ–Ω–æ–º**
**–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
```
Spiritual Platform Auth: –¢–æ–∫–µ–Ω: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
Spiritual Platform Auth: –¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤—ã–π—Ç–∏ –∏ –≤–æ–π—Ç–∏ —Å–Ω–æ–≤–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Local Storage

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω**
**–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
```
Spiritual Platform Server: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: 123
Spiritual Platform Server: –û—à–∏–±–∫–∞ - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω: 123
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ë–î
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–æ–±–ª–µ–º–∞ —Å JWT**
**–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
```
Spiritual Platform Auth: –û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: JsonWebTokenError: invalid token
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JWT_SECRET –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–µ–∫—Ä–µ—Ç–æ–º

### **–°—Ü–µ–Ω–∞—Ä–∏–π 4: –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
**–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:**
```
Spiritual Platform Server: –ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞
Spiritual Platform Server: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: 1
Spiritual Platform Server: –°–æ–±–µ—Å–µ–¥–Ω–∏–∫: 2
Spiritual Platform Server: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: 2
Spiritual Platform Server: –ù–∞–π–¥–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–∞—Ç: 123
Spiritual Platform Server: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç: { chatId: 123, otherUser: {...} }
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–±–ª–µ–º–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ –∏–ª–∏ –¥–∞–Ω–Ω—ã—Ö

## üöÄ **–û–ë–ù–û–í–õ–ï–ù–ò–ï –°–ï–†–í–ï–†–ê:**

### **–û–±–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å –Ω–æ–≤—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º:**
```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
scp -r server/dist/* root@31.130.155.103:/home/node/ruplatform/server/dist/
scp -r client/dist/* root@31.130.155.103:/home/node/ruplatform/client/dist/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
pm2 restart ruplatform
```

### **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
pm2 logs ruplatform --lines 20
```

## üéØ **–ò–¢–û–ì:**

**–° –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –º—ã —Å–º–æ–∂–µ–º —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã! üîç**

**–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å "—Å–≤—è–∑–∞—Ç—å—Å—è" —Å —Ä–∞–∑–Ω—ã–º–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.**
