# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ê –õ–û–ì–ò–ö–ê –ö–ù–û–ü–ö–ò "–°–í–Ø–ó–ê–¢–¨–°–Ø" –° –≠–ö–°–ü–ï–†–¢–û–ú

## üéØ **–ù–ê–ô–î–ï–ù–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ê –ü–†–û–ë–õ–ï–ú–ê:**

### **‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "—Å–≤—è–∑–∞—Ç—å—Å—è" –≤ –ø–æ–∏—Å–∫–µ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–ª–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —á–∞—Ç
- ‚úÖ –ù–µ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è –Ω–æ–≤—ã–π —á–∞—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### **‚úÖ –¢–µ–ø–µ—Ä—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

#### **1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è handleContactExpert –≤ ExpertsPage.tsx:**

**–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```typescript
const handleContactExpert = (expertId: number, event: React.MouseEvent) => {
  event.stopPropagation();
  // TODO: –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç —Å —ç–∫—Å–ø–µ—Ä—Ç–æ–º
  navigate(`/chat?expertId=${expertId}`);
};
```

**–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```typescript
const handleContactExpert = async (expertId: number, event: React.MouseEvent) => {
  event.stopPropagation();

  if (!user) {
    message.error('–î–ª—è —Å–≤—è–∑–∏ —Å —ç–∫—Å–ø–µ—Ä—Ç–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É');
    navigate('/login');
    return;
  }

  try {
    setContactLoading(true);
    const chatData = await chatsAPI.start(expertId);
    navigate(`/chat/${chatData.chatId}`);
  } catch (error) {
    console.error('Spiritual Platform: –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞:', error);
    message.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–≤—è–∑–∞—Ç—å—Å—è —Å —ç–∫—Å–ø–µ—Ä—Ç–æ–º');
  } finally {
    setContactLoading(false);
  }
};
```

#### **2. –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã
import { message } from 'antd';
import { useAuth } from '../contexts/AuthContext';
import { chatsAPI } from '../services/api';

// –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
const [contactLoading, setContactLoading] = useState(false);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const { user } = useAuth();
```

#### **3. –ö–Ω–æ–ø–∫–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏:**
```tsx
<Button
  type="primary"
  icon={<MessageOutlined />}
  onClick={(e) => handleContactExpert(expert.id, e)}
  loading={contactLoading}  // ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É
  block
>
  –°–≤—è–∑–∞—Ç—å—Å—è
</Button>
```

## üéØ **–ö–ê–ö –¢–ï–ü–ï–†–¨ –†–ê–ë–û–¢–ê–ï–¢:**

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ `/login`
- –ï—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞

### **2. –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞:**
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è API `chatsAPI.start(expertId)`
- –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ —á–∞—Ç —Å —ç—Ç–∏–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º
- –ï—Å–ª–∏ —á–∞—Ç–∞ –Ω–µ—Ç ‚Üí —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π
- –ï—Å–ª–∏ —á–∞—Ç –µ—Å—Ç—å ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π

### **3. –ù–∞–≤–∏–≥–∞—Ü–∏—è:**
- –ü–æ–ª—É—á–∞–µ—Ç—Å—è `chatData.chatId` –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ `/chat/${chatId}` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ID —á–∞—Ç–∞

## üîß **–ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û –ù–ê –°–ï–†–í–ï–†–ï:**

### **API /chats/start –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞
- ‚úÖ –ù–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å —á–∞—Ç —Å —Å–∞–º–∏–º —Å–æ–±–æ–π
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–∞—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `chatId` –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–µ

## üöÄ **–ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ:**

### **–°–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!** ‚úÖ

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è:**
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–ª–∏–µ–Ω—Ç–∞
scp -r client/dist/* root@soulsynergy.ru:/home/node/ruplatform/client/dist/

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
ssh root@soulsynergy.ru "pm2 restart ruplatform"
```

## üîç **–ü–†–û–í–ï–†–ö–ê:**

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "—Å–≤—è–∑–∞—Ç—å—Å—è":**
1. **–ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–∏—Å–∫–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:** https://soulsynergy.ru/experts
2. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å** –≤ —Å–∏—Å—Ç–µ–º–µ
3. **–ù–∞–∂–º–∏—Ç–µ "—Å–≤—è–∑–∞—Ç—å—Å—è"** —Å –ª—é–±—ã–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
   - ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è —á–∞—Ç –∏–º–µ–Ω–Ω–æ —Å —ç—Ç–∏–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º
   - ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —á–∞—Ç (–Ω–µ –ø–µ—Ä–≤—ã–π –ø–æ–ø–∞–≤—à–∏–π—Å—è)
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –≤–æ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
   - ‚úÖ –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–æ—Ç –∂–µ —á–∞—Ç

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:**
1. **–ù–∞–∂–º–∏—Ç–µ "—Å–≤—è–∑–∞—Ç—å—Å—è"** —Å —ç–∫—Å–ø–µ—Ä—Ç–æ–º –ê ‚Üí –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —á–∞—Ç —Å –ê
2. **–í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ –ø–æ–∏—Å–∫** –∏ –Ω–∞–∂–º–∏—Ç–µ "—Å–≤—è–∑–∞—Ç—å—Å—è" —Å —ç–∫—Å–ø–µ—Ä—Ç–æ–º –ë ‚Üí –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —á–∞—Ç —Å –ë
3. **–ß–∞—Ç—ã —Ä–∞–∑–Ω—ã–µ** –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–≤

**–ö–ù–û–ü–ö–ê "–°–í–Ø–ó–ê–¢–¨–°–Ø" –¢–ï–ü–ï–†–¨ –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û –° –ö–ê–ñ–î–´–ú –≠–ö–°–ü–ï–†–¢–û–ú! üí¨‚ú®**
