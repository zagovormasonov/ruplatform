# ‚úÖ –ü–û–ò–°–ö –ü–û –†–ï–ê–õ–¨–ù–´–ú –î–ê–ù–ù–´–ú –ò–ó –ë–î - –ù–ê–°–¢–†–û–ï–ù!

## üéØ –ü–†–û–ë–õ–ï–ú–ê:
–ü–æ–∏—Å–∫ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ PostgreSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## ‚úÖ –†–ï–®–ï–ù–ò–ï:

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã API —Ä–æ—É—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**

**–§–∞–π–ª:** `server/src/routes/experts.ts`

**–ü—Ä–æ–±–ª–µ–º—ã:**
- API –≤–æ–∑–≤—Ä–∞—â–∞–ª `first_name` –≤–º–µ—Å—Ç–æ `firstName`
- –ù–µ–ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å–ª—É–≥–∞—Ö
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```sql
-- –ë—ã–ª–æ
SELECT DISTINCT ep.id, u.first_name, u.last_name, u.avatar_url

-- –°—Ç–∞–ª–æ  
SELECT DISTINCT ep.id, 
       u.first_name as "firstName", 
       u.last_name as "lastName", 
       u.avatar_url as "avatarUrl",
       ep.reviews_count as "reviewsCount",
       c.name as "cityName"
```

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —É—Å–ª—É–≥:**
```javascript
const expertsWithServices = await Promise.all(result.rows.map(async (expert) => {
  const servicesResult = await pool.query(`
    SELECT id, title, description, price, duration_minutes as "durationMinutes", 
           service_type as "serviceType", is_active as "isActive"
    FROM services 
    WHERE expert_id = $1 AND is_active = true
  `, [expert.id]);

  return {
    ...expert,
    services: servicesResult.rows
  };
}));
```

### 2. **–î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —ç–∫—Å–ø–µ—Ä—Ç—ã –≤ –ë–î**

**–§–∞–π–ª:** `server/add-test-data.js`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ **3 —Ä–µ–∞–ª—å–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–∞:**
  - üîÆ **–ê–Ω–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞** (–ú–æ—Å–∫–≤–∞) - –¢–∞—Ä–æ, –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è, —Ä–µ–π—Ç–∏–Ω–≥ 4.8
  - üßò **–ú–∏—Ö–∞–∏–ª –ü–µ—Ç—Ä–æ–≤** (–°–ü–±) - –†–µ–π–∫–∏, –ú–µ–¥–∏—Ç–∞—Ü–∏—è, —Ä–µ–π—Ç–∏–Ω–≥ 4.9  
  - ‚≠ê **–ï–ª–µ–Ω–∞ –í–∞—Å–∏–ª—å–µ–≤–∞** (–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫) - –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è, –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è, —Ä–µ–π—Ç–∏–Ω–≥ 4.7

- ‚úÖ **6 —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª—É–≥ —Å —Ü–µ–Ω–∞–º–∏:**
  - –†–∞—Å–∫–ª–∞–¥ –¢–∞—Ä–æ - 2000‚ÇΩ (–æ–Ω–ª–∞–π–Ω)
  - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–æ—Ä–æ—Å–∫–æ–ø - 3000‚ÇΩ (–æ–Ω–ª–∞–π–Ω)
  - –°–µ–∞–Ω—Å –†–µ–π–∫–∏ - 3500‚ÇΩ (–æ—Ñ–ª–∞–π–Ω)
  - –ì—Ä—É–ø–ø–æ–≤–∞—è –º–µ–¥–∏—Ç–∞—Ü–∏—è - 1500‚ÇΩ (–æ—Ñ–ª–∞–π–Ω)
  - –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ - 2500‚ÇΩ (–æ–Ω–ª–∞–π–Ω)
  - –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∞ - 4000‚ÇΩ (–æ–Ω–ª–∞–π–Ω)

- ‚úÖ **–°–≤—è–∑–∏ —Å —Ç–µ–º–∞—Ç–∏–∫–∞–º–∏** (–¢–∞—Ä–æ, –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è, –†–µ–π–∫–∏, –ú–µ–¥–∏—Ç–∞—Ü–∏—è, –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è)

### 3. **–£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞**

**–§–∞–π–ª:** `client/src/pages/ExpertsPage.tsx`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```javascript
console.log('Spiritual Platform: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –ø–æ–∏—Å–∫–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:', params);
const response = await expertsAPI.search(params);
console.log('Spiritual Platform: –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç API:', response);
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω–¥–∏–∫–∞—Ü–∏—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö:**
```javascript
// –ë—ã–ª–æ: experts[0]?.id === 1
// –°—Ç–∞–ª–æ: experts[0]?.firstName === '–ê–Ω–Ω–∞'
```

### 4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–µ–Ω —É—Å–ª—É–≥**

**–ü—Ä–æ–±–ª–µ–º–∞:** `Cannot read properties of null (reading 'price')`

**–†–µ—à–µ–Ω–∏–µ:** –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —É—Å–ª—É–≥
```javascript
const validServices = expert.services.filter(s => s && typeof s.price === 'number');
return validServices.length > 0 ? Math.min(...validServices.map(s => s.price)) : 0;
```

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢:

### ‚úÖ **–ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å –∫–ª–∏–µ–Ω—Ç–æ–º
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ —ç–∫—Å–ø–µ—Ä—Ç—ã –∏–∑ –±–∞–∑—ã PostgreSQL
- –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ —Ç–µ–º–∞—Ç–∏–∫–∞–º, –≥–æ—Ä–æ–¥–∞–º, —Ç–∏–ø–∞–º —É—Å–ª—É–≥

### ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:**
- üîç **–ü–æ —Ç–µ–º–∞—Ç–∏–∫–∞–º:** –¢–∞—Ä–æ, –ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è, –†–µ–π–∫–∏, –ú–µ–¥–∏—Ç–∞—Ü–∏—è, –ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è
- üèôÔ∏è **–ü–æ –≥–æ—Ä–æ–¥–∞–º:** –ú–æ—Å–∫–≤–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫
- üíª **–ü–æ —Ç–∏–ø—É —É—Å–ª—É–≥:** –û–Ω–ª–∞–π–Ω / –û—Ñ–ª–∞–π–Ω
- üí∞ **–¶–µ–Ω—ã —É—Å–ª—É–≥:** –æ—Ç 1500‚ÇΩ –¥–æ 4000‚ÇΩ

### ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**

**API —Ç–µ—Å—Ç:**
```bash
Invoke-WebRequest -Uri "http://localhost:3001/api/experts/search"
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: –ú–∏—Ö–∞–∏–ª –ü–µ—Ç—Ä–æ–≤, —Ä–µ–π—Ç–∏–Ω–≥ 4.90, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
```

**–ö–ª–∏–µ–Ω—Ç:**
- http://localhost:5173/experts - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –¶–µ–Ω—ã —É—Å–ª—É–≥ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API

## üöÄ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ:

**–¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏–∑ –ë–î
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —É—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω—ã  
- ‚úÖ –ò–º–µ–µ—Ç fallback –Ω–∞ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫

**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**
