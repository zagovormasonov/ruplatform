# üîß –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –û–®–ò–ë–ö–ò 404 –î–õ–Ø /api/chats/start

## üéØ **–ü–†–û–ë–õ–ï–ú–ê:**
```
POST http://31.130.155.103/api/chats/start 404 (Not Found)
```

## üîç **–í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ß–ò–ù–´:**

### **1. –°–µ—Ä–≤–µ—Ä –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏**
- ‚úÖ –ö–æ–¥ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚ùå –ö–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —É—Å—Ç–∞—Ä–µ–ª

### **2. –û—à–∏–±–∫–∞ –≤ middleware –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
- ‚ùå –¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

### **3. –û—à–∏–±–∫–∞ –≤ —Ä–æ—É—Ç–∞—Ö**
- ‚ùå –ú–∞—Ä—à—Ä—É—Ç –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω
- ‚ùå –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ

## üõ† **–®–ê–ì–ò –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò:**

### **–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@31.130.155.103

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã —Ä–æ—É—Ç–æ–≤
ls -la /home/node/ruplatform/server/dist/routes/
cat /home/node/ruplatform/server/dist/routes/chats.js | grep -A 5 -B 5 "start"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
cat /home/node/ruplatform/server/dist/index.js | grep -A 2 -B 2 "chats"
```

### **–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ PM2
pm2 logs ruplatform --lines 50

# –ò–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
tail -f /var/log/nginx/error.log
```

### **–®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –Ω–∞–ø—Ä—è–º—É—é**
```bash
# –°–Ω–∞—á–∞–ª–∞ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
curl -X POST http://31.130.155.103/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"your-email@example.com","password":"your-password"}'

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —á–∞—Ç–∞
curl -X POST http://31.130.155.103/api/chats/start \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -d '{"otherUserId":2}'
```

### **–®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞**
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
scp -r server/dist/* root@31.130.155.103:/home/node/ruplatform/server/dist/

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
pm2 restart ruplatform
```

## üéØ **–ï–°–õ–ò –ú–ê–†–®–†–£–¢ –ù–ï –ù–ê–ô–î–ï–ù:**

### **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. ‚úÖ `app.use('/api/chats', chatRoutes);` –≤ `index.ts`
2. ‚úÖ `router.post('/start', ...)` –≤ `chats.ts`
3. ‚úÖ –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### **–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç:**
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ middleware `authenticateToken`
2. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –≤–∞–ª–∏–¥–Ω—ã–π
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## üöÄ **–†–ï–®–ï–ù–ò–ï:**

### **1. –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```bash
# –ù–∞ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
cd C:\Users\user\RuPlatform
scp -r server/dist/* root@31.130.155.103:/home/node/ruplatform/server/dist/
scp -r client/dist/* root@31.130.155.103:/home/node/ruplatform/client/dist/
```

### **2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
ssh root@31.130.155.103 "pm2 restart ruplatform"
```

### **3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (F12)
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–∂–∞—Ç—å "—Å–≤—è–∑–∞—Ç—å—Å—è" —Å —ç–∫—Å–ø–µ—Ä—Ç–æ–º
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ Network tab - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ /api/chats/start
```

### **4. –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ 404:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
ssh root@31.130.155.103 "pm2 status"

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
ssh root@31.130.155.103 "pm2 logs ruplatform --lines 20"
```

**–ü–û–°–õ–ï –û–ë–ù–û–í–õ–ï–ù–ò–Ø –°–ï–†–í–ï–†–ê –ü–†–û–ë–õ–ï–ú–ê 404 –î–û–õ–ñ–ù–ê –ò–°–ü–†–ê–í–ò–¢–¨–°–Ø! üîß‚ú®**
