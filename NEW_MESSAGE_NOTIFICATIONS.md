# üîî –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –û –ù–û–í–´–• –°–û–û–ë–©–ï–ù–ò–Ø–• –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò

## ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–ê –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:**

### **üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

#### **1. –°–µ—Ä–≤–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
```typescript
// –°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—É—á–∞—Ç–µ–ª—é
io.to(`user_${receiverId}`).emit('new_message_notification', {
  chatId: chatId,
  senderId: senderId,
  senderName: `${sender.first_name} ${sender.last_name}`,
  senderAvatar: sender.avatar_url,
  message: content,
  createdAt: message.created_at
});
```

#### **2. –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:**
```tsx
// –ö—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–∞ –∞–≤–∞—Ç–∞—Ä–∫–µ —á–∞—Ç–∞
{chat.hasNewMessage && (
  <div style={{
    position: 'absolute',
    top: -2,
    right: -2,
    width: 12,
    height: 12,
    backgroundColor: '#ff4d4f',
    borderRadius: '50%',
    border: '2px solid white',
    zIndex: 10
  }} />
)}
```

#### **3. –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
```typescript
// –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
if (Notification.permission === 'granted') {
  new Notification(`–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç ${notification.senderName}`, {
    body: notification.message,
    icon: notification.senderAvatar || '/favicon.ico'
  });
}
```

#### **4. UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
```typescript
// –ü–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
message.info(`–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç ${notification.senderName}`);
```

## üîß **–ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢:**

### **1. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Socket.IO
2. –°–µ—Ä–≤–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –ë–î
3. –°–µ—Ä–≤–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è
4. –°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ Socket.IO

### **2. –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
1. –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ `new_message_notification`
2. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–∫—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞)
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
5. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### **3. –°–±—Ä–æ—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ —á–∞—Ç —Å –Ω–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
2. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä `hasNewMessage` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ `false`
3. –ß–∞—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ

## üéØ **–û–°–û–ë–ï–ù–ù–û–°–¢–ò:**

### **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:**
- ‚úÖ –ö—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–∞ –∞–≤–∞—Ç–∞—Ä–∫–µ —á–∞—Ç–∞
- ‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á–∞—Ç–æ–≤ —Å –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- ‚úÖ –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### **–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
- ‚úÖ –ó–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∏ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç –∞–≤–∞—Ç–∞—Ä–∫—É –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∫–∞–∫ –∏–∫–æ–Ω–∫—É

### **UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
- ‚úÖ –ù–µ –º–µ—à–∞—é—Ç —Ä–∞–±–æ—Ç–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

## üöÄ **–ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ:**

### **–°–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!** ‚úÖ

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è:**
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
scp -r server/dist/* root@soulsynergy.ru:/home/node/ruplatform/server/dist/
scp -r client/dist/* root@soulsynergy.ru:/home/node/ruplatform/client/dist/

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
ssh root@soulsynergy.ru "pm2 restart ruplatform"
```

## üîç **–ü–†–û–í–ï–†–ö–ê:**

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
1. **–û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç** —Å –æ–¥–Ω–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** —Å –¥—Ä—É–≥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
   - ‚úÖ –ö—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–∞ –∞–≤–∞—Ç–∞—Ä–∫–µ —á–∞—Ç–∞
   - ‚úÖ –ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ—è–≤–∏–ª–æ—Å—å
   - ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø–æ–∫–∞–∑–∞–ª–æ—Å—å
   - ‚úÖ –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —á–∞—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏—Å—á–µ–∑–∞–µ—Ç

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö:**
1. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —á–∞—Ç—ã** - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ —á–∞—Ç–∞
2. **–û—Ç–∫—Ä—ã—Ç—ã–π —á–∞—Ç** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç, –Ω–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ –Ω—É–∂–µ–Ω
3. **–ó–∞–∫—Ä—ã—Ç–∞—è –≤–∫–ª–∞–¥–∫–∞** - –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—Ä–∏—Ö–æ–¥—è—Ç

## üéØ **–ò–¢–û–ì:**

**–£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –û –ù–û–í–´–• –°–û–û–ë–©–ï–ù–ò–Ø–• –†–ê–ë–û–¢–ê–Æ–¢ –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò! üîî‚ú®**

- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞ —á–∞—Ç–∞—Ö
- ‚úÖ –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ UI —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Socket.IO
