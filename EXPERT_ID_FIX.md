# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ê –ü–†–û–ë–õ–ï–ú–ê –° ID –≠–ö–°–ü–ï–†–¢–û–í!

## üéØ **–ù–ê–ô–î–ï–ù–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ê –û–°–ù–û–í–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê –û–®–ò–ë–ö–ò 404:**

### **‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞:**
- **API –ø–æ–∏—Å–∫–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤** –≤–æ–∑–≤—Ä–∞—â–∞–ª `ep.id` (ID –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `expert_profiles`)
- **API —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞** –æ–∂–∏–¥–∞–ª `u.id` (ID –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `users`)
- **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É ID** –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫—É "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"

### **‚úÖ –¢–µ–ø–µ—Ä—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**

#### **1. SQL –∑–∞–ø—Ä–æ—Å —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ID:**
```sql
-- –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
SELECT DISTINCT ep.id, u.first_name as "firstName", ...

-- –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
SELECT DISTINCT ep.id, u.id as "userId", u.first_name as "firstName", ...
```

#### **2. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Expert –æ–±–Ω–æ–≤–ª–µ–Ω:**
```typescript
export interface Expert {
  id: number;        // ID –ø—Ä–æ—Ñ–∏–ª—è —ç–∫—Å–ø–µ—Ä—Ç–∞ (expert_profiles.id)
  userId: number;    // ‚úÖ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (users.id) - –ù–û–í–û–ï –ü–û–õ–ï
  firstName: string;
  lastName: string;
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

#### **3. –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID:**
```typescript
// –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
onClick={(e) => handleContactExpert(expert.id, e)}

// –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
onClick={(e) => handleContactExpert(expert.userId, e)}
```

## üîç **–ö–ê–ö –¢–ï–ü–ï–†–¨ –†–ê–ë–û–¢–ê–ï–¢:**

### **1. API –ø–æ–∏—Å–∫–∞ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```json
{
  "experts": [
    {
      "id": 1,           // ID –∏–∑ expert_profiles
      "userId": 10,      // ‚úÖ ID –∏–∑ users (–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞)
      "firstName": "–ê–Ω–Ω–∞",
      "lastName": "–°–º–∏—Ä–Ω–æ–≤–∞",
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    }
  ]
}
```

### **2. –ö–Ω–æ–ø–∫–∞ "—Å–≤—è–∑–∞—Ç—å—Å—è" –∏—Å–ø–æ–ª—å–∑—É–µ—Ç userId:**
```typescript
const handleContactExpert = async (expertId: number, event: React.MouseEvent) => {
  // –¢–µ–ø–µ—Ä—å expertId = expert.userId (–∏–∑ users —Ç–∞–±–ª–∏—Ü—ã)
  const chatData = await chatsAPI.start(expertId); // ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π userId
};
```

### **3. API —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID:**
```typescript
// –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç userId –∏–∑ users —Ç–∞–±–ª–∏—Ü—ã
const { otherUserId } = req.body; // ‚úÖ –¢–µ–ø–µ—Ä—å —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π userId

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const userExists = await pool.query('SELECT id FROM users WHERE id = $1', [otherUserId]);
```

## üöÄ **–ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ:**

### **–°–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!** ‚úÖ

### **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è:**
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
scp -r server/dist/* root@soulsynergy.ru:/home/node/ruplatform/server/dist/
scp -r client/dist/* root@soulsynergy.ru:/home/node/ruplatform/client/dist/

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
ssh root@soulsynergy.ru "pm2 restart ruplatform"
```

## üîç **–ü–†–û–í–ï–†–ö–ê:**

### **1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)**
### **2. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —ç–∫—Å–ø–µ—Ä—Ç–æ–≤**
### **3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ Network ‚Üí /api/experts/search**
### **4. –í –æ—Ç–≤–µ—Ç–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª—è:**
```json
{
  "id": 1,        // expert_profiles.id
  "userId": 10,   // ‚úÖ users.id
  "firstName": "–ê–Ω–Ω–∞",
  "lastName": "–°–º–∏—Ä–Ω–æ–≤–∞"
}
```

### **5. –ù–∞–∂–º–∏—Ç–µ "—Å–≤—è–∑–∞—Ç—å—Å—è" —Å –ª—é–±—ã–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º**
### **6. –í Network –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ /api/chats/start —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º userId**

## üéØ **–ò–¢–û–ì:**

**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ –º–µ–∂–¥—É ID –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –ë–î!** üîß

**–¢–µ–ø–µ—Ä—å:**
- ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ userId
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç userId –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞
- ‚úÖ –°–µ—Ä–≤–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ users
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "—Å–≤—è–∑–∞—Ç—å—Å—è" —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏

**–ö–ù–û–ü–ö–ê "–°–í–Ø–ó–ê–¢–¨–°–Ø" –¢–ï–ü–ï–†–¨ –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨ –° –í–°–ï–ú–ò –≠–ö–°–ü–ï–†–¢–ê–ú–ò! üí¨‚ú®**
